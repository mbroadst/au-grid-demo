<template>
  <content></content>
  <table class="ui compact striped table" border="1">
    <thead class="small">
      <tr>
        <th repeat.for="column of columns" if.bind="column.visible">
          ${column.header}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="row of rows">
        <td repeat.for="column of columns" class="${!!column.compact ? 'collapsing' : ''}" if.bind="column.visible">
          <compose if.bind="!!column.template" view.bind="column.template"></compose>
          <compose if.bind="!!column.viewModel" view-model.bind="column.viewModel" model.bind="row"></compose>
          ${ (!column.template && !column.viewModel && !!column.field) ? row[column.field] : '' }
        </td>
      </tr>
    </tbody>
  </table>
</template>
